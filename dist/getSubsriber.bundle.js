(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>p,errorRate:()=>u,setup:()=>d});const r=require("k6/http");var o=e.n(r);const n=require("k6"),s="https://moli-staging.auth.ap-southeast-1.amazoncognito.com/token",c="190sth074afcel3hm124hi2r7m",a="qv48sl9afi1jc6dt0cmf2r264pjkjq4l85tq86mcm4c6cm83v4l",i="https://d1dvzfm7v42b0o.cloudfront.net",l="/moli-subscriber-ms/v1.0/subscriber/get-subscriber";let u=new(require("k6/metrics").Rate)("errors");function d(){return function(){const e=`grant_type=client_credentials&client_id=${c}&client_secret=${a}`;return o().post(s,e,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*"}}).json("access_token")}()}function p(e){const t={"Content-Type":"application/json",Accept:"*/*",Authorization:`Bearer ${e}`},r=Object.entries({msisdn:"601016044545"}).map((([e,t])=>`${e}=${encodeURIComponent(t)}`)).join("&"),s=o().get(`${i}${l}?${r}`,{headers:t});let c=(0,n.check)(s,{"is status 200":e=>200===e.status,"is less than 15000ms":e=>e.timings.duration<=15e3});0==c&&(u.add(!c),console.error(s.status),console.error(s.body))}var m=exports;for(var f in t)m[f]=t[f];t.__esModule&&Object.defineProperty(m,"__esModule",{value:!0})})();